### "useDynLib" should be MARKED and use ".onLoad" and ".onUnload" in "R/zzz.r".
### Since "libmpi.so" should be load before "pbdMPI.so".
# useDynLib(pbdMPI)

import(methods, rlecuyer)

exportPattern("^spmd\\.[[:alpha:]]+")
# exportPattern("^[\\.]")

exportMethods(
  "allgather",
  "allreduce",
  "bcast",
  "gather",
  "recv",
  "irecv",
  "reduce",
  "scatter",
  "send",
  "isend",
  "sendrecv",
  "sendrecv.replace"
)

export(
  ### "R/mpi_apts.r"
  "arrange.mpi.apts",

  ### "R/spmd_communicator.r"
  "barrier",
#  "comm.set.errhandler",
  "comm.is.null",
  "comm.rank",
  "comm.size",
  "comm.dup",
  "comm.free",
  "init",
  "finalize",
#  "is.master",
#  "get.processor.name",
  "comm.abort",
  "comm.split",
  "comm.disconnect",
  "comm.connect",
  "comm.accept",
  "comm.split",
  "port.open",
  "port.close",
  "serv.lookup",
  "serv.publish",
  "serv.unpublish",
#  "comm.spawn",
#  "comm.get.parent",
  "intercomm.merge",
  "intercomm.create",
  "comm.c2f",

  ### "R/spmd_info.r"
  "info.create",
  "info.set",
  "info.free",
  "info.c2f",

  ### "R/spmd_tool.r"
#  "comm.hostinfo",
  "comm.print",
  "comm.cat",

  ### "R/spmd_utility.r"
  "probe",
  "iprobe",
  "anysource",
  "anytag",
  "get.sourcetag",
#  "get.count",

  ### "R/spmd_wait.r"
  "wait",
  "waitany",
  "waitsome",
  "waitall",

  ### "R/api_*.r"
  "get.jid",
  "pbdApply",
  "pbdLapply",
  "pbdSapply",
  "comm.set.seed",
  "comm.reset.seed",
  "comm.end.seed",
  "comm.sort",
  "comm.sort.default",
  "comm.sort.integer",
  "comm.sort.double",
  "comm.any",
  "comm.all",
  "comm.timer",
  "comm.Rprof",
  "comm.stop",
  "comm.warning",
  "comm.warnings",
  "comm.write",
  "comm.write.table",
  "comm.write.csv",
  "comm.write.csv2",
  "task.pull.workers",
  "task.pull.master",
  "task.pull"
)

