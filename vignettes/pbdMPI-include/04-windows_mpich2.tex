

\subsection[MPICH2 (Aside)]{MPICH2 (Aside)}
\label{sec:mpich2}
\addcontentsline{toc}{subsection}{\thesubsection. MPICH2 (Aside)}

{\color{red} \bf Warning:}
MPICH2 is no longer maintained.
This section is only for reference or other extension purposes.


\pkg{pbdMPI} (earlier than version 0.2-2) supports Windows with
MPICH2 (\url{http://www.mcs.anl.gov/research/projects/mpich2/}).
The binary installations of both MPI systems are available
from the website.
\code{mpich2-1.4.1p1-win-ia32.msi} is for 32-bits and \\
\code{mpich2-1.4.1p1-win-x86-64.msi} is for 64-bits.
The installation is easily done with a few clicks. The
default environment and path are recommended.

For running MPI and \proglang{R}, users need to set \code{PATH} to the
\code{mpiexec.exe} and \code{Rscript.exe}. By default,
\begin{Command}
### Under command mode, or save in a batch file.
SET R_HOME=C:\Program Files\R\R-2.15.1
SET MPI_ROOT=C:\Program Files\MPICH2
SET PATH=%MPI_ROOT%\bin\;%R_HOME%\bin\;%PATH%
\end{Command}
is for the 64-bit MPICH2, but replace
\begin{Command}
SET MPI_ROOT=C:\Program Files (x86)\MPICH2
\end{Command}
for the 32-bit MPICH2.


\subsection[Build from Source (MPICH2)]{Build from Source (MPICH2)}
\label{sec:building_from_source_mpich2}
\addcontentsline{toc}{subsection}{\thesubsection. Build from Source (MPICH2)}

{\color{red} \bf Warning:} This section is only for building binary in
32- and 64-bit Windows system. A more general way can be found in the file
\code{pbdMPI/INSTALL}.

Make sure that \proglang{R}, \pkg{Rtools}, and \pkg{MINGW} are in the \code{PATH}.
See details on the website "Building R for Windows" at
\url{http://cran.r-project.org/bin/windows/Rtools/}.
But, if both 32- and 64-bits MPICH2 are installed, two different
environment variables \code{MPI_ROOT_32} and \code{MPI_ROOT_64}
need to be set for building binaries.

For example, the minimum requirement may be
\begin{Command}
### Under command mode, or save in a batch file.
SET R_HOME=C:\Program Files\R\R-3.0.1
SET RTOOLS=C:\Rtools\bin\
SET MINGW=C:\Rtools\gcc-4.6.3\bin
SET PATH=%R_HOME%;%R_HOME%\BIN\;%RTOOLS%;%MINGW%;%PATH%
SET MPI_ROOT_64=C:\Program Files\MPICH2
SET MPI_ROOT_32=C:\Program Files (x86)\MPICH2
\end{Command}

With a correct \code{PATH}, one can use the \proglang{R} commands
to install/build the \pkg{pbdMPI}:
\begin{Command}
### Under command mode, build and install the binary.
tar zxvf pbdMPI_0.1-0.tar.gz
R CMD INSTALL --build pbdMPI
R CMD INSTALL pbdMPI_0.1-0.zip
\end{Command}
to compile without further changes of configurations. However, only
\pkg{pbdMPI} is tested regularly before any release.

